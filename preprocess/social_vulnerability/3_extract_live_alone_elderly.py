"""
獨居長者的資料是 pdf 檔案，所以我直接用手動填寫的 json 檔案來處理。
"""

import json

data = {
    "中正區": {
        "老人人口數": 33760,
        "獨居人數": 653
    },
    "大同區": {
        "老人人口數": 27624,
        "獨居人數": 817
    },
    "中山區": {
        "老人人口數": 52551,
        "獨居人數": 859
    },
    "松山區": {
        "老人人口數": 46238,
        "獨居人數": 735
    },
    "大安區": {
        "老人人口數": 72375,
        "獨居人數": 903
    },
    "萬華區": {
        "老人人口數": 43772,
        "獨居人數": 1868
    },
    "信義區": {
        "老人人口數": 51849,
        "獨居人數": 801
    },
    "士林區": {
        "老人人口數": 64313,
        "獨居人數": 769
    },
    "北投區": {
        "老人人口數": 54118,
        "獨居人數": 489
    },
    "內湖區": {
        "老人人口數": 53570,
        "獨居人數": 700
    },
    "南港區": {
        "老人人口數": 23978,
        "獨居人數": 386
    },
    "文山區": {
        "老人人口數": 55200,
        "獨居人數": 974
    },
}

# calculate the low income rate
for district, d in data.items():
    d["老人獨居比例"] = round(d["獨居人數"] / d["老人人口數"] * 100, 2)

# save to json
with open("data/social_vulnerability/processed/live_alone_elderly_district.json", "w") as f:
    json.dump(data, f, ensure_ascii=False, indent=2)